# Set loading path files first (defer: 0)
zplug "$DOT", from:local, \
  use:"*/path.zsh", \
  defer:0

# Set loading everything but completion, env, path, and ZSH config (defer: 1)
zplug "$DOT", from:local, \
  use:"*/*.zsh", ignore:"{*/{completion,path,env}.zsh,zsh/config.zsh}", \
  defer:1

# Set loading completion files after compinit (defer: 2)
zplug "$DOT", from:local, \
  use:"*/completion.zsh", \
  defer:2

# Install missing packages if needed
if ! zplug check; then
  zplug install
  zplug clear
fi

# Load everthing!
zplug load
